<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Ajánlat Generátor</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 700px;
      margin: 40px auto;
      background: #fdfdfd;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    label {
      font-weight: bold;
    }
    .form-group {
      margin-bottom: 16px;
    }
  </style>
</head>
<body>
  <h1>Esketési Ajánlat Generátor</h1>
  <form action="/generate-pdf" method="POST">
    <div class="form-group">
      <label>Menyasszony neve:</label><br>
      <input name="bride" required>
    </div>
    <div class="form-group">
      <label>Vőlegény neve:</label><br>
      <input name="groom" required>
    </div>
    <div class="form-group">
      <label>Esküvő dátuma:</label><br>
      <input name="date" type="date" required>
    </div>
    <div class="form-group">
      <label>Szertartás kezdete:</label><br>
      <select name="hour" required>
        <option value="00">00</option>
<option value="01">01</option>
<option value="02">02</option>
<option value="03">03</option>
<option value="04">04</option>
<option value="05">05</option>
<option value="06">06</option>
<option value="07">07</option>
<option value="08">08</option>
<option value="09">09</option>
<option value="10">10</option>
<option value="11">11</option>
<option value="12">12</option>
<option value="13">13</option>
<option value="14">14</option>
<option value="15">15</option>
<option value="16">16</option>
<option value="17">17</option>
<option value="18">18</option>
<option value="19">19</option>
<option value="20">20</option>
<option value="21">21</option>
<option value="22">22</option>
<option value="23">23</option>
      </select> :
      <select name="minute" required>
        <option value="00">00</option>
        <option value="15">15</option>
        <option value="30">30</option>
        <option value="45">45</option>
      </select>
    </div>
    <div class="form-group">
      <label>Helyszín:</label><br>
      <input name="location" required>
    </div>
    <div class="form-group">
      <label>Helyszín távolsága (km):</label><br>
      <input type="number" name="distance" id="distance" required>
    </div>
    <div class="form-group">
      <label>Magyarországi helyszín?</label><br>
      <select name="hungarian" id="hungarian" onchange="toggleCustomOptions()">
        <option value="igen">Igen</option>
        <option value="nem">Nem</option>
      </select>
    </div>
    <div class="form-group" id="customOptionGroup" style="display:none;">
      <label>Mit jelenítsünk meg a PDF-ben?</label><br>
      <select name="displayOption" id="displayOption" onchange="toggleCustomText()">
        <option value="kmdij">Km-díj</option>
        <option value="custom">Egyedi szöveg</option>
      </select>
    </div>
    <div class="form-group" id="customTextGroup" style="display:none;">
      <label>Egyedi szöveg:</label><br>
      <input name="customText" value="repülő + szállás + egyéb költségek, amit a megrendelő fizet">
    </div>
    <div class="form-group">
      <label>Vendégek száma:</label><br>
      <input type="number" name="guests" required>
    </div>
    <div class="form-group">
      <label>Csomagválasztás:</label><br>
      <select name="selectedPackage" required>
        <option>Alapcsomag</option>
        <option>Prémium csomag</option>
        <option>Exkluzív csomag</option>
      </select>
    </div>
    <div class="form-group">
      <label>Km-díj (Ft/km):</label><br>
      <input type="number" name="kmdij" id="kmdij" value="150" required>
    </div>
    <div class="form-group">
      <label>Kiszállási díj (Ft):</label><br>
      <input type="number" name="kiszalldij" id="kiszalldij" required>
    </div>
    <button type="submit">PDF generálása</button>
  </form>

  <script>
    function toggleCustomOptions() {
      const isHungarian = document.getElementById('hungarian').value === 'nem';
      document.getElementById('customOptionGroup').style.display = isHungarian ? 'block' : 'none';
      toggleCustomText();
    }

    function toggleCustomText() {
      const displayOption = document.getElementById('displayOption')?.value;
      const show = displayOption === 'custom';
      document.getElementById('customTextGroup').style.display = show ? 'block' : 'none';
    }

    document.getElementById('distance').addEventListener('input', calculateKiszallas);
    document.getElementById('kmdij').addEventListener('input', calculateKiszallas);

    function calculateKiszallas() {
      const d = parseFloat(document.getElementById('distance').value || 0);
      const k = parseFloat(document.getElementById('kmdij').value || 0);
      const kiszallas = Math.ceil(d * 2 * k / 1000) * 1000;
      document.getElementById('kiszalldij').value = kiszallas;
    }
  </script>
</body>
</html>