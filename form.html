<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <title>Esketési ajánlatkérés</title>
  <style>
    body {
      font-family: 'Georgia', serif;
      background-color: #fef6f7;
      margin: 0;
      padding: 2rem;
      color: #444;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      color: #a45d5d;
    }
    label {
      margin-top: 1rem;
      display: block;
    }
    input, select {
      padding: 0.5rem;
      margin-top: 0.3rem;
      width: 100%;
      font-size: 1rem;
    }
    .inline {
      display: inline-block;
      width: 48%;
      margin-right: 2%;
    }
    button {
      margin-top: 2rem;
      padding: 0.75rem 1.5rem;
      background-color: #e6c5c5;
      border: none;
      font-weight: bold;
      cursor: pointer;
    }
    #customTextBlock {
      display: none;
    }
  </style>
</head>
<body>
  <h1>Esketési ajánlatkérés</h1>
  <form action="/generate-pdf" method="POST" id="offerForm">
    <label>Menyasszony neve:
      <input type="text" name="bride" required />
    </label>
    <label>Vőlegény neve:
      <input type="text" name="groom" required />
    </label>
    <label>Esküvő dátuma:
      <input type="date" name="date" required />
    </label>
    <div class="inline">
      <label>Szertartás kezdete (óra):
        <select name="hour">
          <option>00</option><option>01</option><option>02</option><option>03</option>
          <option>04</option><option>05</option><option>06</option><option>07</option>
          <option>08</option><option>09</option><option>10</option><option>11</option>
          <option>12</option><option>13</option><option>14</option><option>15</option>
          <option>16</option><option>17</option><option>18</option><option>19</option>
          <option>20</option><option>21</option><option>22</option><option>23</option>
        </select>
      </label>
    </div>
    <div class="inline">
      <label>Szertartás kezdete (perc):
        <select name="minute">
          <option>00</option>
          <option>15</option>
          <option>30</option>
          <option>45</option>
        </select>
      </label>
    </div>
    <label>Helyszín:
      <input type="text" name="location" required />
    </label>
    <label>Helyszín távolsága (km):
      <input type="number" name="distance" id="distance" value="0" required />
    </label>
    <label>Magyarországi helyszín:
      <select name="hungarian" id="hungarian">
        <option value="igen" selected>Igen</option>
        <option value="nem">Nem</option>
      </select>
    </label>
    <label>Vendégek száma:
      <input type="number" name="guests" required />
    </label>
    <label>Csomag:
      <select name="selectedPackage">
        <option>Alapcsomag</option>
        <option>Prémium csomag</option>
        <option>Exkluzív csomag</option>
      </select>
    </label>
    <label>Km-díj (Ft/km):
      <input type="number" name="kmdij" id="kmdij" value="150" required />
    </label>
    <label>Kiszállási díj (Ft):
      <input type="number" name="kiszalldij" id="kiszalldij" value="0" required />
    </label>
    <div id="customTextBlock">
      <label>Egyedi szöveg (külföldi esetén):
        <input type="text" name="customText" value="repülő + szállás + egyéb költségek, amit a megrendelő fizet" />
      </label>
    </div>
    <button type="submit">Ajánlat PDF generálása</button>
  </form>

  <script>
    const distanceInput = document.getElementById("distance");
    const kmdijInput = document.getElementById("kmdij");
    const kiszalldijInput = document.getElementById("kiszalldij");
    const hungarianSelect = document.getElementById("hungarian");
    const customTextBlock = document.getElementById("customTextBlock");

    function updateKiszallasiDij() {
      const km = parseFloat(distanceInput.value) || 0;
      const rate = parseFloat(kmdijInput.value) || 0;
      const total = Math.round(km * 2 * rate / 1000) * 1000;
      kiszalldijInput.value = total;
    }

    distanceInput.addEventListener("input", updateKiszallasiDij);
    kmdijInput.addEventListener("input", updateKiszallasiDij);

    hungarianSelect.addEventListener("change", () => {
      if (hungarianSelect.value === "nem") {
        customTextBlock.style.display = "block";
      } else {
        customTextBlock.style.display = "none";
      }
    });
  </script>
</body>
</html>